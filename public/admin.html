<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Learning MEAN</title>
</head>
<body ng-app="app" ng-controller="listItems">
	<header>
		<h1>CRUD with MEAN</h1>
		<nav>
			<a href="/">List</a> <a href="/admin">Admin</a>
		</nav>
	</header>
	<div class="container">
		<h2>Edit Posts</h2>
		<table>
			<tr>
				<th>Heading</th>
				<th>Author</th>
				<th>Date</th>
				<th>Last updated</th>
				<th>Tags</th>
				<th>Category</th>
				<th>Text</th>
				<th></th>
			</tr>
			<tr ng-repeat="post in posts" ng-controller="editItems">
			<form id="editForm">
				<td><input type="text" value={{post.heading}} ng-model="post.heading"></td>
				<td><input type="text" value={{post.author}} ng-model="post.author"></td>
				<td><input type="text" value={{post.date}} ng-model="post.date"></td>
				<td><input type="hidden" value={{post.dateUpdated}} ng-model="post.dateUpdated">{{post.dateUpdated}}</td>
				<td><input type="text" value={{post.tags}} ng-model="post.tags"></td>
				<td><input type="text" value={{post.category}} ng-model="post.category"></td>
				<td><textarea ng-model="post.text">{{post.text}}</textarea></td>
				<td><input type="hidden" value={{post._id}} ng-model="post._id"><input type="submit" ng-click="saveItem()" value="Save"></td>
			</form>
			</tr>
		</table>
	</div>
	<div class="container">
		<h2>Delete Posts</h2>
		<table>
			<tr>
				<th>Heading</th>
				<th>Delete</th>
			</tr>
			<tr ng-repeat="post in posts" ng-controller="delItems">
				<td>{{post.heading}}<input type="hidden" value={{post._id}} ng-model="post._id"></td>
				<td><input type="submit" ng-click="delItem()" value="Delete"></td>
			</tr>
		</table>
	</div>
	<div class="container" ng-controller="addItems">
		<h2>Add Posts</h2>
		<form id="addForm">
			<label>Heading:</label>
			<input type="text" ng-model="heading">
			<label>Author:</label>
			<input type="text" ng-model="author">
			<label>Message:</label>
			<textarea ng-model="text"></textarea>
			<label>Tags: (Separate with comma)</label>
			<input type="text" ng-model="tags">
			<label>Category:</label>
			<input type="text" ng-model="category">
			<input type="hidden" ng-model="date">
			<input type="submit" ng-click="newItem()">
		</form>
	</div>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.3/angular.min.js"></script>
<script src="app/app.js"></script>
</body>
</html>